from flask import render_template, flash, redirect, url_for, abort
from flask_login import login_required, current_user
from ..forms.create_form import PostCreateForm
from ..services.create_post_service import create_post_service


# Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore, velit laboriosam fugiat repellat dolores labore reiciendis magnam ipsum inventore corporis ea debitis in sit similique earum quasi quos laudantium temporibus. Neque cumque, minima eligendi ipsam rerum mollitia nemo dicta, ipsum illum provident cum, assumenda corrupti nulla eos enim! Cumque officia quisquam quae saepe deleniti sequi unde est amet quibusdam modi nihil quam ex consequatur autem laboriosam, praesentium esse sunt eaque voluptas commodi odio voluptatibus? Ab, dolorum voluptates facilis eum, corporis nam nemo perspiciatis doloribus commodi molestias sint nulla. Numquam nisi fugit beatae tempore, quasi debitis consequuntur accusantium repudiandae adipisci ullam ab. Nisi nostrum aliquid amet possimus maiores molestias, nam molestiae mollitia odio excepturi itaque consectetur dignissimos aliquam delectus harum! Molestiae eius explicabo tenetur culpa pariatur delectus sed quisquam architecto. Quam, voluptatibus mollitia eum molestiae animi commodi id aut aliquid nostrum dolore at placeat aperiam fugit sit maiores omnis aliquam molestias. Quis, odio. Maiores facilis assumenda nihil magni enim tenetur id unde molestias, voluptatem culpa in laborum quia labore autem aut ea illo neque placeat vel perferendis sit distinctio. Consectetur, fugit itaque omnis architecto aliquam officia incidunt voluptate quo illum libero excepturi. Ab, consequuntur nihil asperiores magni magnam rem totam, sequi itaque mollitia possimus doloribus eaque nostrum odio sed, obcaecati laboriosam excepturi veniam reiciendis. Laudantium asperiores at cum obcaecati consectetur ullam aliquam molestiae dolore sint fugit pariatur, rerum cumque blanditiis dolores, voluptatem est, incidunt modi corporis! Consectetur, nesciunt minima! Maxime consequuntur, veritatis reprehenderit voluptates nam perferendis sit nesciunt ipsa nihil quisquam similique exercitationem sapiente quibusdam est, ratione optio, assumenda dolores! Quod quos consequatur fugit expedita soluta iure molestiae, laudantium non obcaecati facilis eaque rem saepe commodi! Culpa, voluptas impedit! Quos voluptate incidunt, molestiae velit hic autem minus qui. Voluptatum est ducimus porro voluptatibus blanditiis aliquam saepe, dignissimos facilis adipisci numquam odio voluptas expedita. Deserunt labore reprehenderit blanditiis inventore libero debitis nisi ab numquam voluptatum harum quasi temporibus quam error animi sit veritatis sint tempore cumque quidem perspiciatis, provident doloribus! Doloremque eaque accusamus veritatis, error voluptates quidem facere quis iste totam excepturi. Tempora, consectetur optio reiciendis dolorum fuga error corrupti adipisci nemo dolorem rem dignissimos. Rem quo recusandae harum quia et cupiditate minus, natus incidunt quisquam neque labore, explicabo voluptates? Natus, eius? Dolores delectus in doloribus, quisquam explicabo inventore assumenda iste, ipsa atque, itaque error labore deleniti nam beatae sapiente repellendus sed quia voluptatibus illo est. Totam necessitatibus laudantium esse, explicabo aspernatur quasi ipsa a debitis autem suscipit incidunt voluptatum amet ducimus ex minima expedita voluptatibus dolor repellendus ipsum fugiat facere obcaecati ratione placeat accusamus. At veritatis nesciunt rerum deserunt alias tenetur quam maxime minus, adipisci molestias porro ratione officiis eaque aperiam! Minus adipisci vitae deleniti, reprehenderit harum eius alias consequuntur cum maxime illo distinctio accusamus fuga pariatur labore cupiditate cumque consequatur quasi, ipsa accusantium optio qui porro tempora? Neque voluptate amet, odio facere nobis dolore velit quam sequi maiores excepturi beatae ut recusandae aliquam expedita dicta obcaecati natus nemo in at veniam voluptates nulla? Nam perspiciatis amet, nisi rerum reiciendis necessitatibus eos accusamus laboriosam facilis vel praesentium totam ad numquam exercitationem hic blanditiis quibusdam, soluta omnis quam natus expedita! Facilis amet dicta deserunt, possimus perferendis vero vitae illum quod enim voluptatibus facere accusantium! Delectus fugiat repellat modi temporibus voluptatem? Deserunt, tempore doloremque delectus architecto excepturi explicabo voluptatibus ut earum aliquid esse. Eum ducimus repudiandae numquam quam rem? In nobis fuga impedit porro est illo, quam accusantium nulla nostrum recusandae enim esse ipsum nisi quisquam tempore magni, repellendus quas veniam id quis aliquid minus, rem exercitationem. Ab consectetur dolore enim sunt maiores aperiam ad accusantium aliquid autem labore placeat numquam laborum corrupti minus reiciendis velit, ipsum inventore ratione obcaecati! Vero autem at fugit fuga expedita quaerat laboriosam quasi sequi, enim consectetur corporis officiis nemo minus itaque sed numquam nobis eos? Obcaecati, quod velit! Expedita vitae sunt ratione eum! Harum officiis consequatur dolorum atque voluptatibus magni dolor sed quae voluptas cumque temporibus, quis, cupiditate optio iste commodi? Consequatur, dolorum molestiae voluptatibus voluptas porro, magnam incidunt eveniet illo unde sint similique distinctio! Beatae consectetur, placeat cum fugiat voluptas saepe et corporis id, distinctio nesciunt ea perspiciatis quidem omnis nulla cumque doloribus? Harum non ducimus et. Aliquam omnis vel aut debitis, exercitationem quos nostrum obcaecati dignissimos. Placeat inventore molestias amet velit in quis voluptatem pariatur ducimus? Voluptas praesentium provident voluptate veritatis quo a velit error, eaque quia, doloremque id quidem tempore illo asperiores at, dicta fuga! Et assumenda nulla facilis error, suscipit numquam eius accusantium vel dolores alias nihil amet possimus? Quae nostrum, aspernatur alias consequuntur autem vitae magni optio dicta eos necessitatibus placeat ipsa minima quam voluptate tempore, distinctio odio praesentium suscipit, illo ipsam! Illo, saepe enim? Minus quis sit delectus praesentium nisi sed nihil neque explicabo perferendis accusamus ipsa eum quo at, consectetur quia ipsum voluptatibus quaerat facilis maiores. Iste ipsa ut optio aperiam odit, dolorem asperiores vel quisquam cumque similique distinctio iusto aut ullam, sequi suscipit ipsum dolore alias in dolores tenetur ducimus excepturi assumenda voluptates quibusdam? Doloribus eligendi quae perferendis fugit soluta nesciunt beatae ex quis ab, nostrum, similique inventore odio molestiae quod a iste! Eveniet error cum non quam maxime illo sed officiis, similique, perferendis aspernatur, debitis inventore a voluptates qui vero aut veniam dolores autem quae corporis magnam dignissimos quo reprehenderit? Corrupti quis aut quasi sit quidem similique vero ut laboriosam excepturi accusamus recusandae modi cumque natus provident impedit repudiandae, harum unde. Mollitia architecto tempore ipsam aperiam fugiat voluptatum, natus, repellat illo praesentium maxime harum fugit, assumenda et? Veniam, iste! Consequatur id obcaecati consequuntur rerum ea itaque veniam molestiae ex vel nobis sint incidunt consectetur illo commodi delectus odio, natus, maiores amet voluptates. Quos inventore aliquam, iure ipsum repellendus, earum iusto explicabo similique officia nobis dolor modi fugit, suscipit nostrum ullam optio dicta. Nam quos voluptate soluta facilis eos. Praesentium similique sunt in ex porro tempore, molestiae, ullam laborum a soluta quisquam recusandae nisi quod. Harum vero reprehenderit odit eos esse maxime, illo blanditiis perferendis nulla nihil vitae officiis obcaecati ipsam quas dolor excepturi eum laborum qui deleniti asperiores?

@login_required
def create():
    form = PostCreateForm()
    if form.validate_on_submit():
        result = create_post_service(form=form, user_id=current_user.id)
        if result[0] == False:
            abort(500)
        flash(message="New Post successfully created!", category="info")
        # redirect to the post page
        return redirect(url_for("post.read", pid=result[1].post_pid.pid))
    return render_template("create.html", form=form)